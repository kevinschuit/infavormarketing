{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/kevinschuit/Ontwikkeling/Klanten/InFavor marketing/repository/infavormarketing/pages/[slug].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../components/Layout';\nimport PageWrapper from '../components/PageWrapper';\nimport WPAPI from 'wpapi';\nimport Config from '../config';\nvar wp = new WPAPI({\n  endpoint: Config.apiUrl\n});\n\nvar Page = function Page(props) {\n  return __jsx(Layout, {\n    data: props,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, __jsx(PageWrapper, {\n    data: props.data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }));\n};\n\nPage.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(context) {\n    var slug, data, id, featuredMedia;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            slug = context.query.slug;\n            _context.next = 3;\n            return wp.pages().slug(slug).embed().then(function (data) {\n              return data[0];\n            });\n\n          case 3:\n            data = _context.sent;\n\n            if (!(data.featured_media > 0)) {\n              _context.next = 10;\n              break;\n            }\n\n            id = data.featured_media;\n            _context.next = 8;\n            return wp.media().id(id);\n\n          case 8:\n            featuredMedia = _context.sent;\n            return _context.abrupt(\"return\", {\n              data: data,\n              featuredMedia: featuredMedia\n            });\n\n          case 10:\n            return _context.abrupt(\"return\", {\n              data: data\n            });\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default Page;","map":{"version":3,"sources":["/Users/kevinschuit/Ontwikkeling/Klanten/InFavor marketing/repository/infavormarketing/pages/[slug].js"],"names":["Layout","PageWrapper","WPAPI","Config","wp","endpoint","apiUrl","Page","props","data","getInitialProps","context","slug","query","pages","embed","then","featured_media","id","media","featuredMedia"],"mappings":";;;;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,IAAMC,EAAE,GAAG,IAAIF,KAAJ,CAAU;AAAEG,EAAAA,QAAQ,EAAEF,MAAM,CAACG;AAAnB,CAAV,CAAX;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAC,KAAK;AAAA,SACd,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAEA,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,WAAD;AAAa,IAAA,IAAI,EAAEA,KAAK,CAACC,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADc;AAAA,CAAlB;;AAMAF,IAAI,CAACG,eAAL;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAuB,iBAAgBC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACbC,YAAAA,IADa,GACJD,OAAO,CAACE,KADJ,CACbD,IADa;AAAA;AAAA,mBAEAR,EAAE,CAACU,KAAH,GACdF,IADc,CACTA,IADS,EAEdG,KAFc,GAGdC,IAHc,CAGT,UAAAP,IAAI,EAAI;AACV,qBAAOA,IAAI,CAAC,CAAD,CAAX;AACH,aALc,CAFA;;AAAA;AAEbA,YAAAA,IAFa;;AAAA,kBAQfA,IAAI,CAACQ,cAAL,GAAsB,CARP;AAAA;AAAA;AAAA;;AASTC,YAAAA,EATS,GASJT,IAAI,CAACQ,cATD;AAAA;AAAA,mBAUab,EAAE,CAACe,KAAH,GAAWD,EAAX,CAAcA,EAAd,CAVb;;AAAA;AAUTE,YAAAA,aAVS;AAAA,6CAWR;AAAEX,cAAAA,IAAI,EAAJA,IAAF;AAAQW,cAAAA,aAAa,EAAbA;AAAR,aAXQ;;AAAA;AAAA,6CAcZ;AAAEX,cAAAA,IAAI,EAAJA;AAAF,aAdY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAAA;AAAA;AAAA;AAAA;;AAiBA,eAAeF,IAAf","sourcesContent":["import Layout from '../components/Layout';\nimport PageWrapper from '../components/PageWrapper';\nimport WPAPI from 'wpapi';\nimport Config from '../config';\n\nconst wp = new WPAPI({ endpoint: Config.apiUrl });\n\nconst Page = props => (\n    <Layout data={props}>\n        <PageWrapper data={props.data} />\n    </Layout>\n);\n\nPage.getInitialProps = async function (context) {\n    let { slug } = context.query;\n    const data = await wp.pages()\n        .slug(slug)\n        .embed()\n        .then(data => {\n            return data[0];\n        });\n    if (data.featured_media > 0) {\n        const id = data.featured_media;\n        const featuredMedia = await wp.media().id(id); /*.id(page.featured_image);*/\n        return { data, featuredMedia }\n    }\n\n    return { data };\n};\n\nexport default Page;"]},"metadata":{},"sourceType":"module"}